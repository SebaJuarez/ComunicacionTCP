version: '3.8'

services:
  nodo1:
    build:
      context: .
      dockerfile: Dockerfile
    networks:
      - tcp-network
    container_name: nodo1
    command: ["java", "clienteServidor.ClienteServidorTCP", "0.0.0.0", "5000", "nodo2", "5001"]
    ports:
      - "5000:5000"

  nodo2:
    build:
      context: .
      dockerfile: Dockerfile
    networks:
      - tcp-network
    container_name: nodo2
    command: ["java", "clienteServidor.ClienteServidorTCP", "0.0.0.0", "5001", "nodo1", "5000"]
    ports:
      - "5001:5001"

networks:
  tcp-network:
    driver: bridge