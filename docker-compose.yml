version: '3.8'

services:
  servidor:
    build:
      context: .
      dockerfile: Dockerfile.server
    ports:
      - "5000:5000"  # Exponer el puerto 5000 para la conexi√≥n TCP
    networks:
      - tcp-network
    container_name: servidor

  cliente:
    build:
      context: .
      dockerfile: Dockerfile.client
    networks:
      - tcp-network
    environment:
      - DIRECCION_SERVIDOR=servidor  # Establecer el nombre del contenedor del servidor como variable de entorno
    container_name: cliente

networks:
  tcp-network:
    driver: bridge
